/*

 * parallax.js v1.3.1 (http://pixelcog.github.io/parallax.js/)

 * @copyright 2015 PixelCog, Inc.

 * @license MIT (https://github.com/pixelcog/parallax.js/blob/master/LICENSE)

 */
(function(a,g,b,f){(function(){var h=0;var i=["ms","moz","webkit","o"];for(var j=0;j<i.length&&!g.requestAnimationFrame;++j){g.requestAnimationFrame=g[i[j]+"RequestAnimationFrame"];g.cancelAnimationFrame=g[i[j]+"CancelAnimationFrame"]||g[i[j]+"CancelRequestAnimationFrame"]}if(!g.requestAnimationFrame){g.requestAnimationFrame=function(k){var l=new Date().getTime();var n=Math.max(0,16-(l-h));var m=g.setTimeout(function(){k(l+n)},n);h=l+n;return m}}if(!g.cancelAnimationFrame){g.cancelAnimationFrame=function(k){clearTimeout(k)}}}());function d(h,i){var k=this;if(typeof i=="object"){delete i.refresh;delete i.render;a.extend(this,i)}this.$element=a(h);if(!this.imageSrc&&this.$element.is("img")){this.imageSrc=this.$element.attr("src")}var j=(this.position+"").toLowerCase().match(/\S+/g)||[];if(j.length<1){j.push("center")}if(j.length==1){j.push(j[0])}if(j[0]=="top"||j[0]=="bottom"||j[1]=="left"||j[1]=="right"){j=[j[1],j[0]]}if(this.positionX!=f){j[0]=this.positionX.toLowerCase()}if(this.positionY!=f){j[1]=this.positionY.toLowerCase()}k.positionX=j[0];k.positionY=j[1];if(this.positionX!="left"&&this.positionX!="right"){if(isNaN(parseInt(this.positionX))){this.positionX="center"}else{this.positionX=parseInt(this.positionX)}}if(this.positionY!="top"&&this.positionY!="bottom"){if(isNaN(parseInt(this.positionY))){this.positionY="center"}else{this.positionY=parseInt(this.positionY)}}this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px");if(navigator.userAgent.match(/(iPod|iPhone|iPad)/)){if(this.iosFix&&!this.$element.is("img")){this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position})}return this}if(navigator.userAgent.match(/(Android)/)){if(this.androidFix&&!this.$element.is("img")){this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position})}return this}this.$mirror=a("<div />").prependTo("body");this.$slider=a("<img />").prependTo(this.$mirror);this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"});this.$slider.addClass("parallax-slider").one("load",function(){if(!k.naturalHeight||!k.naturalWidth){k.naturalHeight=this.naturalHeight||this.height||1;k.naturalWidth=this.naturalWidth||this.width||1}k.aspectRatio=k.naturalWidth/k.naturalHeight;d.isSetup||d.setup();d.sliders.push(k);d.isFresh=false;d.requestRender()});this.$slider[0].src=this.imageSrc;if(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete){this.$slider.trigger("load")}}a.extend(d.prototype,{speed:0.2,bleed:0,zIndex:-100,iosFix:true,androidFix:true,position:"center",overScrollFix:false,refresh:function(){this.boxWidth=this.$element.outerWidth();this.boxHeight=this.$element.outerHeight()+this.bleed*2;this.boxOffsetTop=this.$element.offset().top-this.bleed;this.boxOffsetLeft=this.$element.offset().left;this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var n=d.winHeight;var h=d.docHeight;var l=Math.min(this.boxOffsetTop,h-n);var m=Math.max(this.boxOffsetTop+this.boxHeight-n,0);var i=this.boxHeight+(l-m)*(1-this.speed)|0;var j=(this.boxOffsetTop-l)*(1-this.speed)|0;if(i*this.aspectRatio>=this.boxWidth){this.imageWidth=i*this.aspectRatio|0;this.imageHeight=i;this.offsetBaseTop=j;var k=this.imageWidth-this.boxWidth;if(this.positionX=="left"){this.offsetLeft=0}else{if(this.positionX=="right"){this.offsetLeft=-k}else{if(!isNaN(this.positionX)){this.offsetLeft=Math.max(this.positionX,-k)}else{this.offsetLeft=-k/2|0}}}}else{this.imageWidth=this.boxWidth;this.imageHeight=this.boxWidth/this.aspectRatio|0;this.offsetLeft=0;var k=this.imageHeight-i;if(this.positionY=="top"){this.offsetBaseTop=j}else{if(this.positionY=="bottom"){this.offsetBaseTop=j-k}else{if(!isNaN(this.positionY)){this.offsetBaseTop=j+Math.max(this.positionY,-k)}else{this.offsetBaseTop=j-k/2|0}}}}},render:function(){var k=d.scrollTop;var j=d.scrollLeft;var h=this.overScrollFix?d.overScroll:0;var i=k+d.winHeight;if(this.boxOffsetBottom>k&&this.boxOffsetTop<i){this.visibility="visible"}else{this.visibility="hidden"}this.mirrorTop=this.boxOffsetTop-k;this.mirrorLeft=this.boxOffsetLeft-j;this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed);this.$mirror.css({transform:"translate3d(0px, 0px, 0px)",visibility:this.visibility,top:this.mirrorTop-h,left:this.mirrorLeft,height:this.boxHeight,width:this.boxWidth});this.$slider.css({transform:"translate3d(0px, 0px, 0px)",position:"absolute",top:this.offsetTop,left:this.offsetLeft,height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}});a.extend(d,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:false,isFresh:false,isBusy:false,setup:function(){if(this.isReady){return}var h=a(b),i=a(g);i.on("scroll.px.parallax load.px.parallax",function(){var k=d.docHeight-d.winHeight;var j=d.docWidth-d.winWidth;d.scrollTop=Math.max(0,Math.min(k,i.scrollTop()));d.scrollLeft=Math.max(0,Math.min(j,i.scrollLeft()));d.overScroll=Math.max(i.scrollTop()-k,Math.min(i.scrollTop(),0));d.requestRender()}).on("resize.px.parallax load.px.parallax",function(){d.winHeight=i.height();d.winWidth=i.width();d.docHeight=h.height();d.docWidth=h.width();d.isFresh=false;d.requestRender()});this.isReady=true},configure:function(h){if(typeof h=="object"){delete h.refresh;delete h.render;a.extend(this.prototype,h)}},refresh:function(){a.each(this.sliders,function(){this.refresh()});this.isFresh=true},render:function(){this.isFresh||this.refresh();a.each(this.sliders,function(){this.render()})},requestRender:function(){var h=this;if(!this.isBusy){this.isBusy=true;g.requestAnimationFrame(function(){h.render();h.isBusy=false})}}});function e(h){return this.each(function(){var i=a(this);var j=typeof h=="object"&&h;if(this==g||this==b||i.is("body")){d.configure(j)}else{if(!i.data("px.parallax")){j=a.extend({},i.data(),j);i.data("px.parallax",new d(this,j))}}if(typeof h=="string"){d[h]()}})}var c=a.fn.parallax;a.fn.parallax=e;a.fn.parallax.Constructor=d;a.fn.parallax.noConflict=function(){a.fn.parallax=c;return this};a(b).on("ready.px.parallax.data-api",function(){a('[data-parallax="scroll"]').parallax()})}(jQuery,window,document));